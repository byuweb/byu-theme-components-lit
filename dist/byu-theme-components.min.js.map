{"version":3,"file":"byu-theme-components.min.js","sources":["../node_modules/@byuweb/web-components-loader/webcomponents-loader.js","../components/byu-theme-components.js"],"sourcesContent":["/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n(function() {\n    'use strict';\n  \n    /**\n     * Basic flow of the loader process\n     *\n     * There are 4 flows the loader can take when booting up\n     *\n     * - Synchronous script, no polyfills needed\n     *   - wait for `DOMContentLoaded`\n     *   - fire WCR event, as there could not be any callbacks passed to `waitFor`\n     *\n     * - Synchronous script, polyfills needed\n     *   - document.write the polyfill bundle\n     *   - wait on the `load` event of the bundle to batch Custom Element upgrades\n     *   - wait for `DOMContentLoaded`\n     *   - run callbacks passed to `waitFor`\n     *   - fire WCR event\n     *\n     * - Asynchronous script, no polyfills needed\n     *   - wait for `DOMContentLoaded`\n     *   - run callbacks passed to `waitFor`\n     *   - fire WCR event\n     *\n     * - Asynchronous script, polyfills needed\n     *   - Append the polyfill bundle script\n     *   - wait for `load` event of the bundle\n     *   - batch Custom Element Upgrades\n     *   - run callbacks pass to `waitFor`\n     *   - fire WCR event\n     */\n  \n    var polyfillsLoaded = false;\n    var whenLoadedFns = [];\n    var allowUpgrades = false;\n    var flushFn;\n  \n    function fireEvent() {\n      window.WebComponents.ready = true;\n      document.dispatchEvent(new CustomEvent('WebComponentsReady', { bubbles: true }));\n    }\n  \n    function batchCustomElements() {\n      if (window.customElements && customElements.polyfillWrapFlushCallback) {\n        customElements.polyfillWrapFlushCallback(function (flushCallback) {\n          flushFn = flushCallback;\n          if (allowUpgrades) {\n            flushFn();\n          }\n        });\n      }\n    }\n  \n    function asyncReady() {\n      batchCustomElements();\n      ready();\n    }\n  \n    function ready() {\n      // bootstrap <template> elements before custom elements\n      if (window.HTMLTemplateElement && HTMLTemplateElement.bootstrap) {\n        HTMLTemplateElement.bootstrap(window.document);\n      }\n      polyfillsLoaded = true;\n      runWhenLoadedFns().then(fireEvent);\n    }\n  \n    function runWhenLoadedFns() {\n      allowUpgrades = false;\n      var fnsMap = whenLoadedFns.map(function(fn) {\n        return fn instanceof Function ? fn() : fn;\n      });\n      whenLoadedFns = [];\n      return Promise.all(fnsMap).then(function() {\n        allowUpgrades = true;\n        flushFn && flushFn();\n      }).catch(function(err) {\n        console.error(err);\n      });\n    }\n  \n    window.WebComponents = window.WebComponents || {};\n    window.WebComponents.ready = window.WebComponents.ready || false;\n    window.WebComponents.waitFor = window.WebComponents.waitFor || function(waitFn) {\n      if (!waitFn) {\n        return;\n      }\n      whenLoadedFns.push(waitFn);\n      if (polyfillsLoaded) {\n        runWhenLoadedFns();\n      }\n    };\n    window.WebComponents._batchCustomElements = batchCustomElements;\n  \n    var name = 'web-component-polyfills.js';\n    // Feature detect which polyfill needs to be imported.\n    var polyfills = [];\n    if (!('attachShadow' in Element.prototype && 'getRootNode' in Element.prototype) ||\n      (window.ShadyDOM && window.ShadyDOM.force)) {\n      polyfills.push('sd');\n    }\n    if (!window.customElements || window.customElements.forcePolyfill) {\n      polyfills.push('ce');\n    }\n  \n    var needsTemplate = (function() {\n      // no real <template> because no `content` property (IE and older browsers)\n      var t = document.createElement('template');\n      if (!('content' in t)) {\n        return true;\n      }\n      // broken doc fragment (older Edge)\n      if (!(t.content.cloneNode() instanceof DocumentFragment)) {\n        return true;\n      }\n      // broken <template> cloning (Edge up to at least version 17)\n      var t2 = document.createElement('template');\n      t2.content.appendChild(document.createElement('div'));\n      t.content.appendChild(t2);\n      var clone = t.cloneNode(true);\n      return (clone.content.childNodes.length === 0 ||\n          clone.content.firstChild.content.childNodes.length === 0);\n    })();\n  \n    // NOTE: any browser that does not have template or ES6 features\n    // must load the full suite of polyfills.\n    if (!window.Promise || !Array.from || !window.URL || !window.Symbol || needsTemplate) {\n      polyfills = ['sd-ce-pf'];\n    }\n  \n    if (polyfills.length) {\n      var url;\n      var polyfillFile = 'https://cdn.byu.edu/web-component-polyfills/latest/web-component-polyfills.min.js';\n  \n      // Load it from the right place.\n      if (window.WebComponents.root) {\n        url = polyfillFile;\n      } else {\n        var script = document.querySelector('script[src*=\"' + name +'\"]');\n        // Load it from the right place.\n        url = script.src.replace(name, polyfillFile);\n      }\n  \n      var newScript = document.createElement('script');\n      newScript.src = url;\n      // if readyState is 'loading', this script is synchronous\n      if (document.readyState === 'loading') {\n        // make sure custom elements are batched whenever parser gets to the injected script\n        newScript.setAttribute('onload', 'window.WebComponents._batchCustomElements()');\n        document.write(newScript.outerHTML);\n        document.addEventListener('DOMContentLoaded', ready);\n      } else {\n        newScript.addEventListener('load', function () {\n          asyncReady();\n        });\n        newScript.addEventListener('error', function () {\n          throw new Error('Could not load polyfill bundle' + url);\n        });\n        document.head.appendChild(newScript);\n      }\n    } else {\n      // if readyState is 'complete', script is loaded imperatively on a spec-compliant browser, so just fire WCR\n      if (document.readyState === 'complete') {\n        polyfillsLoaded = true;\n        fireEvent();\n      } else {\n        // this script may come between DCL and load, so listen for both, and cancel load listener if DCL fires\n        window.addEventListener('load', ready);\n        window.addEventListener('DOMContentLoaded', function() {\n          window.removeEventListener('load', ready);\n          ready();\n        })\n      }\n    }\n  })();\n  ","'use strict'\n\nimport '@byuweb/web-components-loader'\nimport { version } from '../package.json'\n\nwindow.WebComponents = window.WebComponents || {\n    waitFor(cb) { addEventListener('WebComponentsReady', cb) }\n}\n\nWebComponents.waitFor(async () => {\n\n    import('../dist/components.min.js');\n\n    console.log(`--------------- Starting byu-theme-components ${version} ---------------`);\n});\n"],"names":["fireEvent","window","WebComponents","ready","document","dispatchEvent","CustomEvent","bubbles","batchCustomElements","customElements","polyfillWrapFlushCallback","flushCallback","flushFn","allowUpgrades","asyncReady","HTMLTemplateElement","bootstrap","polyfillsLoaded","runWhenLoadedFns","then","fnsMap","whenLoadedFns","map","fn","Function","Promise","all","catch","err","console","error","waitFor","waitFn","push","_batchCustomElements","polyfills","Element","prototype","ShadyDOM","force","forcePolyfill","needsTemplate","t","createElement","content","cloneNode","DocumentFragment","t2","appendChild","clone","childNodes","length","firstChild","Array","from","URL","Symbol","url","polyfillFile","root","script","querySelector","src","replace","newScript","readyState","setAttribute","write","outerHTML","addEventListener","Error","head","removeEventListener","cb","log","version"],"mappings":"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"}