{"version":3,"file":"byu-theme-components.min.js","sources":["../node_modules/@byuweb/web-components-loader/webcomponents-loader.js","../components/byu-theme-components.js"],"sourcesContent":["/**\r\n * @license\r\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\r\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\n * Code distributed by Google as part of the polymer project is also\r\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n */\r\n\r\n(function() {\r\n  'use strict';\r\n\r\n  /**\r\n   * Basic flow of the loader process\r\n   *\r\n   * There are 4 flows the loader can take when booting up\r\n   *\r\n   * - Synchronous script, no polyfills needed\r\n   *   - wait for `DOMContentLoaded`\r\n   *   - fire WCR event, as there could not be any callbacks passed to `waitFor`\r\n   *\r\n   * - Synchronous script, polyfills needed\r\n   *   - document.write the polyfill bundle\r\n   *   - wait on the `load` event of the bundle to batch Custom Element upgrades\r\n   *   - wait for `DOMContentLoaded`\r\n   *   - run callbacks passed to `waitFor`\r\n   *   - fire WCR event\r\n   *\r\n   * - Asynchronous script, no polyfills needed\r\n   *   - wait for `DOMContentLoaded`\r\n   *   - run callbacks passed to `waitFor`\r\n   *   - fire WCR event\r\n   *\r\n   * - Asynchronous script, polyfills needed\r\n   *   - Append the polyfill bundle script\r\n   *   - wait for `load` event of the bundle\r\n   *   - batch Custom Element Upgrades\r\n   *   - run callbacks pass to `waitFor`\r\n   *   - fire WCR event\r\n   */\r\n\r\n  var polyfillsLoaded = false;\r\n  var whenLoadedFns = [];\r\n  var allowUpgrades = false;\r\n  var flushFn;\r\n\r\n  function fireEvent() {\r\n    window.WebComponents.ready = true;\r\n    document.dispatchEvent(new CustomEvent('WebComponentsReady', { bubbles: true }));\r\n  }\r\n\r\n  function batchCustomElements() {\r\n    if (window.customElements && customElements.polyfillWrapFlushCallback) {\r\n      customElements.polyfillWrapFlushCallback(function (flushCallback) {\r\n        flushFn = flushCallback;\r\n        if (allowUpgrades) {\r\n          flushFn();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function asyncReady() {\r\n    batchCustomElements();\r\n    ready();\r\n  }\r\n\r\n  function ready() {\r\n    // bootstrap <template> elements before custom elements\r\n    if (window.HTMLTemplateElement && HTMLTemplateElement.bootstrap) {\r\n      HTMLTemplateElement.bootstrap(window.document);\r\n    }\r\n    polyfillsLoaded = true;\r\n    runWhenLoadedFns().then(fireEvent);\r\n  }\r\n\r\n  function runWhenLoadedFns() {\r\n    allowUpgrades = false;\r\n    var fnsMap = whenLoadedFns.map(function(fn) {\r\n      return fn instanceof Function ? fn() : fn;\r\n    });\r\n    whenLoadedFns = [];\r\n    return Promise.all(fnsMap).then(function() {\r\n      allowUpgrades = true;\r\n      flushFn && flushFn();\r\n    }).catch(function(err) {\r\n      console.error(err);\r\n    });\r\n  }\r\n\r\n  window.WebComponents = window.WebComponents || {};\r\n  window.WebComponents.ready = window.WebComponents.ready || false;\r\n  window.WebComponents.waitFor = window.WebComponents.waitFor || function(waitFn) {\r\n    if (!waitFn) {\r\n      return;\r\n    }\r\n    whenLoadedFns.push(waitFn);\r\n    if (polyfillsLoaded) {\r\n      runWhenLoadedFns();\r\n    }\r\n  };\r\n  window.WebComponents._batchCustomElements = batchCustomElements;\r\n\r\n  var name = 'webcomponents-loader.js';\r\n  // Feature detect which polyfill needs to be imported.\r\n  var polyfills = [];\r\n  if (!('attachShadow' in Element.prototype && 'getRootNode' in Element.prototype) ||\r\n    (window.ShadyDOM && window.ShadyDOM.force)) {\r\n    polyfills.push('sd');\r\n  }\r\n  if (!window.customElements || window.customElements.forcePolyfill) {\r\n    polyfills.push('ce');\r\n  }\r\n\r\n  var needsTemplate = (function() {\r\n    // no real <template> because no `content` property (IE and older browsers)\r\n    var t = document.createElement('template');\r\n    if (!('content' in t)) {\r\n      return true;\r\n    }\r\n    // broken doc fragment (older Edge)\r\n    if (!(t.content.cloneNode() instanceof DocumentFragment)) {\r\n      return true;\r\n    }\r\n    // broken <template> cloning (Edge up to at least version 17)\r\n    var t2 = document.createElement('template');\r\n    t2.content.appendChild(document.createElement('div'));\r\n    t.content.appendChild(t2);\r\n    var clone = t.cloneNode(true);\r\n    return (clone.content.childNodes.length === 0 ||\r\n      clone.content.firstChild.content.childNodes.length === 0);\r\n  })();\r\n\r\n  // NOTE: any browser that does not have template or ES6 features\r\n  // must load the full suite of polyfills.\r\n  if (!window.Promise || !Array.from || !window.URL || !window.Symbol || needsTemplate) {\r\n    polyfills = ['sd-ce-pf'];\r\n  }\r\n\r\n  if (polyfills.length) {\r\n    var url = 'https://cdn.byu.edu/web-component-polyfills-v2/2.2.10/webcomponents-' + polyfills.join('-') + '.js';\r\n\r\n    var newScript = document.createElement('script');\r\n    newScript.src = url;\r\n    // if readyState is 'loading', this script is synchronous\r\n    if (document.readyState === 'loading') {\r\n      // make sure custom elements are batched whenever parser gets to the injected script\r\n      newScript.setAttribute('onload', 'window.WebComponents._batchCustomElements()');\r\n      document.write(newScript.outerHTML);\r\n      document.addEventListener('DOMContentLoaded', ready);\r\n    } else {\r\n      newScript.addEventListener('load', function () {\r\n        asyncReady();\r\n      });\r\n      newScript.addEventListener('error', function () {\r\n        throw new Error('Could not load polyfill bundle' + url);\r\n      });\r\n      document.head.appendChild(newScript);\r\n    }\r\n  } else {\r\n    // if readyState is 'complete', script is loaded imperatively on a spec-compliant browser, so just fire WCR\r\n    if (document.readyState === 'complete') {\r\n      polyfillsLoaded = true;\r\n      fireEvent();\r\n    } else {\r\n      // this script may come between DCL and load, so listen for both, and cancel load listener if DCL fires\r\n      window.addEventListener('load', ready);\r\n      window.addEventListener('DOMContentLoaded', function() {\r\n        window.removeEventListener('load', ready);\r\n        ready();\r\n      })\r\n    }\r\n  }\r\n})();\r\n","'use strict'\n\nimport '@byuweb/web-components-loader'\nimport { version } from '../package.json'\n\nconst myUrl = document.currentScript.src;\n\nwindow.WebComponents = window.WebComponents || {\n  waitFor (cb) { addEventListener('WebComponentsReady', cb) }\n}\n\nWebComponents.waitFor(() => {\n\n  console.log(`--------------- Starting byu-theme-components ${version} ---------------`);\n  loadScript('components.min.js')\n\n})\n\nfunction loadScript(relativeUrl) {\n  const url = new URL(relativeUrl, myUrl);\n  const el = document.createElement(\"script\");\n  el.src = url.href;\n  el.type = 'module';\n  document.head.append(el);\n}\n"],"names":["myUrl","document","currentScript","src","window","WebComponents","waitFor","cb","addEventListener","console","log","version","loadScript","relativeUrl","url","URL","el","createElement","href","type","head","append"],"mappings":"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"}